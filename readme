RestAPI

Flat รวมกันทั้งไฟล์ในโฟลเดอร์เดียว
Layering Grouping By function โปรเจคใหญ่ไม่โอเคร สำหรับวิธีนี้ (เหมาะสำหรับที่ไม่ใหญ่)
Modular Grouping by logical/business (แนะนำแบบนี้ สำหรับการทำโปรเจค)
Clean architecture 







Modular = Router -> Controller - Server -> Model - Mongo


เมื่อไม่ได้ใช้ ต้องเคลียร์การใช้งานโดยการ go mod tidy 



Swagger รวบรวมเส้น api สามารถเทสโดยรวมได้เลย
สร้างไฟล์ command รันออโต้เมื่อรันโปรเจค เพื่อให้สร้าง docs อัตโนมัติ


godoc เครื่องมือสำหรับทาง doc เครื่องมือนี้เป็น official เหมาะสำหรับการทำ library

docker image / container

multi state image build สร้างไฟล์สำหรับ เพื่อนำไปรัน


ก่อนแรกต้องสร้าง image 
- os คือะไร
- api binary (ต้องมีกระบวนการ build)

หลังจากสร้าง image จะไปสร้าง build container

Dockerfile
FROM golang:1.7.3 AS builder //เลือกระบบปฏิบัติ
WORKDIR /go/src/github.com/alexellis/href-counter/ เลือก folder ใน docker
COPY app.go    . //copy ไฟล์จาก path เครื่องตัวเอง ไปที่ docker
RUN CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o app . //cgo ไม่เอาภาษา c บนเครื่อง os

FROM alpine:latest  
RUN apk --no-cache add ca-certificates
WORKDIR /root/
COPY --from=builder /go/src/github.com/alexellis/href-counter/app .
CMD ["./app"]  


Docker hub คือที่แชร์ image ที่มาจาก communnity และจาก official 
ห้ามใช้ lasted คือมันจะอัพเดทตลอด ในอนาคตอาจจะรันไม่ได้


docker image build -t demo:0.0.1 .  // . หมายถึงเอา folder ที่อยู่ ณ ปัจจุบัน
docker container 



docker-compose up -d 
docker-compose down 
docker-compose ps // process list
docker-compose up -d --scale api=5